(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var a in t)e.o(t,a)&&!e.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=window.React,t=window.wp.domReady;var a=e.n(t);const o=window.wp.element,l=window.wp.i18n,r=window.wp.apiFetch;var s=e.n(r);const u=window.wp.data,c=window.wp.notices,i=window.wp.components,m=({value:e,onChange:t})=>(0,n.createElement)(i.TextareaControl,{label:(0,l.__)("Message","unadorned-announcement-bar"),value:e,onChange:t,__nextHasNoMarginBottom:!0}),d=({value:e,onChange:t})=>(0,n.createElement)(i.ToggleControl,{label:(0,l.__)("Display","unadorned-announcement-bar"),checked:e,onChange:t,__nextHasNoMarginBottom:!0}),g=({value:e,onChange:t})=>(0,n.createElement)(i.FontSizePicker,{fontSizes:[{name:"Small",size:"small",slug:"small"},{name:"Medium",size:"medium",slug:"medium"},{name:"Large",size:"large",slug:"large"},{name:"XL",size:"xl",slug:"xl"}],value:e,onChange:t,__nextHasNoMarginBottom:!0,disableCustomFontSizes:!0}),_=({onClick:e})=>(0,n.createElement)(i.Button,{variant:"primary",onClick:e,__next40pxDefaultSize:!0},(0,l.__)("Save","unadorned-announcement-bar")),p=()=>(0,n.createElement)(i.__experimentalHeading,{level:1},(0,l.__)("Announcement Bar Settings Page","unadorned-announcement-bar")),w=()=>{const{removeNotice:e}=(0,u.useDispatch)(c.store),t=(0,u.useSelect)((e=>e(c.store).getNotices()));return 0===t.length?null:(0,n.createElement)(i.NoticeList,{notices:t,onRemove:e})},E=()=>{const{message:e,setMessage:t,display:a,setDisplay:r,size:E,setSize:v,saveSettings:h}=(()=>{const[e,n]=(0,o.useState)(null),[t,a]=(0,o.useState)(null),[r,i]=(0,o.useState)(null);(0,o.useEffect)((()=>{s()({path:"/wp/v2/settings"}).then((e=>{n(e.unadorned_announcement_bar.message),a(e.unadorned_announcement_bar.display),i(e.unadorned_announcement_bar.size)}))}),[]);const{createSuccessNotice:m,createErrorNotice:d}=(0,u.useDispatch)(c.store);return{message:e,setMessage:n,display:t,setDisplay:a,size:r,setSize:i,saveSettings:()=>{s()({path:"/wp/v2/settings",method:"POST",data:{unadorned_announcement_bar:{message:e,display:t,size:r}}}).then((()=>{m((0,l.__)("Settings updated successfully","unadorned-announcement-bar"))})).catch((e=>{d((0,l.__)("Error: Settings Not Updated","unadorned-announcement-bar"))}))}}})();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(p,null),(0,n.createElement)(w,null),(0,n.createElement)(i.Panel,null,(0,n.createElement)(i.PanelBody,{title:(0,l.__)("Settingss","unadorned-announcement-bar"),initialOpen:!0},(0,n.createElement)(i.PanelRow,null,(0,n.createElement)(m,{value:e,onChange:e=>t(e)})),(0,n.createElement)(i.PanelRow,null,(0,n.createElement)(d,{value:a,onChange:e=>r(e)}))),(0,n.createElement)(i.PanelBody,{title:(0,l.__)("Appearance","unadorned-announcement-bar"),initialOpen:!1},(0,n.createElement)(i.PanelRow,null,(0,n.createElement)(g,{value:E,onChange:e=>v(e)})))),(0,n.createElement)(_,{onClick:h}))};a()((()=>{(0,o.createRoot)(document.getElementById("unadorned-announcement-bar-settings")).render((0,n.createElement)(E,null))}))})();